# AUTO GENERATED BY JINJA2
# 监听端口
listen_port: 30009
# 线程数
thread_num: 4

docs_url: /docs
openapi_url: /openapi.json
redoc_url: /redoc

# 调度器
schedulers:
  # urs 集群
  urs:
    impl: app.scheduler.RandomScheduler
    args:
      impl: app.services.UrsService
      servers:
        - ip:
          port:
          timeout: 1

  # 评论模型集群
  ct:
    impl: app.scheduler.RandomScheduler
    args:
      impl: app.services.CtService
      servers:
        - ip: -
          port: 37524
          timeout: 1

  # redis集群
  redis:
    impl: app.scheduler.RandomScheduler
    args:
      impl: app.services.RedisService
      servers:
        - ip: -
          port:
          auth:
          db: 1
          env: local

  # mongo集群
  mongo:
    impl: app.scheduler.RandomScheduler
    args:
      impl: app.services.MongoService
      servers:
        - ip:
          port:
          user:
          pwd:

  # mysql集群
  mysql:
    impl: app.scheduler.RandomScheduler
    args:
      impl: app.services.MysqlService
      servers:
        - ip:
          port:
          user:
          pwd:

  # bs集群
  bs:
    impl: app.scheduler.RandomScheduler2D
    args:
      impl: app.services.BsService
      servers:
        - ip: localhost
          port:
          layer: 0
          timeout: 30

  # 线上评论，相似query检索
  lca:
    impl: app.scheduler.RandomScheduler
    args:
      impl: app.services.LcaService
      servers:
        - ip:
          port:
          timeout: 1
# 动态配置
dynamics:
  # urs接口
  urs:
    # ocr接口
    ocr:
      # 请求超时
      timeout: 120
    # mit接口
    mit:
      # 请求超时
      timeout: 30
    # distiller接口
    distiller:
      # 请求超时
      timeout: 2

  # 评论模型接口
  ct:
    # predict接口
    predict:
      # 请求超时
      timeout: 2

  # 文本聚类接口
  lca:
    # lcasearch接口
    lcasearch:
      # 请求超时
      timeout: 300
    # cluster接口
    cluster:
      # 请求超时
      timeout: 600

    cluster_queries:
      # 请求超时
      timeout: 600

  # build服务
  build:
    # buildone接口
    buildone:
      # 请求超时，单位：秒
      timeout: 300
    # clean
    clean:
      # 请求超时，单位：秒
      timeout: 300
    # notify接口
    notify:
      # 请求超时，单位：秒
      timeout: 1800
    # playback接口
    playback:
      # 请求超时，单位：秒
      timeout: 1800
    # reset接口
    reset:
      # 请求超时，单位：秒
      timeout: 1800

  # 阿里云oss服务
  oss: ~

  env: local
